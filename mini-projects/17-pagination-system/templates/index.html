<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagination System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>üìÑ Pagination System</h1>
        
        <!-- Pagination Info -->
        <div class="pagination-info">
            <p>Showing <strong>{{ pagination.page }}</strong> of <strong>{{ pagination.total_pages }}</strong> pages</p>
            <p>Displaying <strong>{{ pagination.items|length }}</strong> of <strong>{{ pagination.total_items }}</strong> items</p>
        </div>
        
        <!-- Items List -->
        <div class="items-container">
            {% for item in pagination.items %}
                <div class="item-card">
                    <h3>{{ item.title }}</h3>
                    <p class="item-id">ID: {{ item.id }}</p>
                    <p class="item-description">{{ item.description }}</p>
                </div>
            {% endfor %}
        </div>
        
        <!-- Pagination Controls -->
        <div class="pagination-controls">
            {% if pagination.has_prev %}
                <a href="{{ url_for('index', page=pagination.prev_page, per_page=pagination.per_page) }}" class="btn btn-prev">‚Üê Previous</a>
            {% else %}
                <span class="btn btn-disabled">‚Üê Previous</span>
            {% endif %}
            
            <!-- Page Numbers -->
            <div class="page-numbers">
                {% for page_num in range(1, pagination.total_pages + 1) %}
                    {% if page_num == pagination.page %}
                        <span class="page-number active">{{ page_num }}</span>
                    {% elif page_num <= 3 or page_num > pagination.total_pages - 3 or (page_num >= pagination.page - 1 and page_num <= pagination.page + 1) %}
                        <a href="{{ url_for('index', page=page_num, per_page=pagination.per_page) }}" class="page-number">{{ page_num }}</a>
                    {% elif page_num == 4 or page_num == pagination.total_pages - 3 %}
                        <span class="page-ellipsis">...</span>
                    {% endif %}
                {% endfor %}
            </div>
            
            {% if pagination.has_next %}
                <a href="{{ url_for('index', page=pagination.next_page, per_page=pagination.per_page) }}" class="btn btn-next">Next ‚Üí</a>
            {% else %}
                <span class="btn btn-disabled">Next ‚Üí</span>
            {% endif %}
        </div>
        
        <!-- Items Per Page Selector -->
        <div class="per-page-selector">
            <label for="per_page">Items per page:</label>
            <select id="per_page" onchange="changePerPage(this.value)">
                <option value="5" {% if pagination.per_page == 5 %}selected{% endif %}>5</option>
                <option value="10" {% if pagination.per_page == 10 %}selected{% endif %}>10</option>
                <option value="20" {% if pagination.per_page == 20 %}selected{% endif %}>20</option>
                <option value="50" {% if pagination.per_page == 50 %}selected{% endif %}>50</option>
            </select>
        </div>
    </div>
    
    <script>
        function changePerPage(value) {
            const url = new URL(window.location.href);
            url.searchParams.set('per_page', value);
            url.searchParams.set('page', '1');
            window.location.href = url.toString();
        }
    </script>
</body>
</html>

